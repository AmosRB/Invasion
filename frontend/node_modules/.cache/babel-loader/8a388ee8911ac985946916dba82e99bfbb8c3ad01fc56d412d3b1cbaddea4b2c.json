{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amos\\\\Desktop\\\\Invasion\\\\frontend\\\\src\\\\Viewer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMap, GeoJSON } from 'react-leaflet';\nimport axios from 'axios';\nimport L from 'leaflet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"https://invasion-api.onrender.com\";\nconst landingIcon = L.divIcon({\n  html: '<div style=\"font-size:28px;\">ðŸ›¸</div>',\n  iconSize: [30, 30],\n  iconAnchor: [15, 30]\n});\nconst alienIcon = number => L.divIcon({\n  html: `<div style=\"font-size:24px;\">ðŸ‘½<span style=\"color:black; font-weight:bold;\">${number}</span></div>`,\n  iconSize: [30, 30],\n  iconAnchor: [15, 30]\n});\nexport default function Viewer() {\n  _s();\n  const [features, setFeatures] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await axios.get(`${API_BASE}/api/invasion`);\n      setFeatures(res.data.features || []);\n    };\n    fetchData();\n    const interval = setInterval(fetchData, 1000);\n    return () => clearInterval(interval);\n  }, []);\n  const center = [31.5, 34.8];\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: center,\n    zoom: 10,\n    style: {\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), features.map((f, idx) => {\n      const [lng, lat] = f.geometry.coordinates;\n      const icon = f.properties.type === \"landing\" ? landingIcon : alienIcon(f.properties.id || idx + 1);\n      return /*#__PURE__*/_jsxDEV(Marker, {\n        position: [lat, lng],\n        icon: icon\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Viewer, \"ypOwFX/TV9+PVMCBxfFaLZXumhg=\");\n_c = Viewer;\nvar _c;\n$RefreshReg$(_c, \"Viewer\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","useMap","GeoJSON","axios","L","jsxDEV","_jsxDEV","API_BASE","landingIcon","divIcon","html","iconSize","iconAnchor","alienIcon","number","Viewer","_s","features","setFeatures","fetchData","res","get","data","interval","setInterval","clearInterval","center","zoom","style","height","children","url","fileName","_jsxFileName","lineNumber","columnNumber","map","f","idx","lng","lat","geometry","coordinates","icon","properties","type","id","position","_c","$RefreshReg$"],"sources":["C:/Users/Amos/Desktop/Invasion/frontend/src/Viewer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, useMap, GeoJSON } from 'react-leaflet';\r\nimport axios from 'axios';\r\nimport L from 'leaflet';\r\n\r\nconst API_BASE = \"https://invasion-api.onrender.com\";\r\n\r\nconst landingIcon = L.divIcon({\r\n  html: '<div style=\"font-size:28px;\">ðŸ›¸</div>',\r\n  iconSize: [30, 30],\r\n  iconAnchor: [15, 30]\r\n});\r\n\r\nconst alienIcon = (number) => L.divIcon({\r\n  html: `<div style=\"font-size:24px;\">ðŸ‘½<span style=\"color:black; font-weight:bold;\">${number}</span></div>`,\r\n  iconSize: [30, 30],\r\n  iconAnchor: [15, 30]\r\n});\r\n\r\nexport default function Viewer() {\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const res = await axios.get(`${API_BASE}/api/invasion`);\r\n      setFeatures(res.data.features || []);\r\n    };\r\n\r\n    fetchData();\r\n    const interval = setInterval(fetchData, 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const center = [31.5, 34.8];\r\n\r\n  return (\r\n    <MapContainer center={center} zoom={10} style={{ height: '100vh' }}>\r\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n      {features.map((f, idx) => {\r\n        const [lng, lat] = f.geometry.coordinates;\r\n        const icon = f.properties.type === \"landing\"\r\n          ? landingIcon\r\n          : alienIcon(f.properties.id || idx + 1);\r\n        return <Marker key={idx} position={[lat, lng]} icon={icon} />;\r\n      })}\r\n    </MapContainer>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,QAAQ,eAAe;AAChF,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,CAAC,MAAM,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,QAAQ,GAAG,mCAAmC;AAEpD,MAAMC,WAAW,GAAGJ,CAAC,CAACK,OAAO,CAAC;EAC5BC,IAAI,EAAE,uCAAuC;EAC7CC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;AACrB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAIC,MAAM,IAAKV,CAAC,CAACK,OAAO,CAAC;EACtCC,IAAI,EAAE,+EAA+EI,MAAM,eAAe;EAC1GH,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;AACrB,CAAC,CAAC;AAEF,eAAe,SAASG,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMuB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,GAAGd,QAAQ,eAAe,CAAC;MACvDW,WAAW,CAACE,GAAG,CAACE,IAAI,CAACL,QAAQ,IAAI,EAAE,CAAC;IACtC,CAAC;IAEDE,SAAS,CAAC,CAAC;IACX,MAAMI,QAAQ,GAAGC,WAAW,CAACL,SAAS,EAAE,IAAI,CAAC;IAC7C,OAAO,MAAMM,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,MAAM,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC;EAE3B,oBACEpB,OAAA,CAACR,YAAY;IAAC4B,MAAM,EAAEA,MAAO;IAACC,IAAI,EAAE,EAAG;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBACjExB,OAAA,CAACP,SAAS;MAACgC,GAAG,EAAC;IAAoD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACrElB,QAAQ,CAACmB,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAK;MACxB,MAAM,CAACC,GAAG,EAAEC,GAAG,CAAC,GAAGH,CAAC,CAACI,QAAQ,CAACC,WAAW;MACzC,MAAMC,IAAI,GAAGN,CAAC,CAACO,UAAU,CAACC,IAAI,KAAK,SAAS,GACxCrC,WAAW,GACXK,SAAS,CAACwB,CAAC,CAACO,UAAU,CAACE,EAAE,IAAIR,GAAG,GAAG,CAAC,CAAC;MACzC,oBAAOhC,OAAA,CAACN,MAAM;QAAW+C,QAAQ,EAAE,CAACP,GAAG,EAAED,GAAG,CAAE;QAACI,IAAI,EAAEA;MAAK,GAAtCL,GAAG;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAqC,CAAC;IAC/D,CAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACU,CAAC;AAEnB;AAACnB,EAAA,CA5BuBD,MAAM;AAAAiC,EAAA,GAANjC,MAAM;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}